---
# Bitwarden Machine Account Authentication Secret
# This SealedSecret stores the machine account token for Bitwarden Secrets Manager
#
# TO CREATE THIS SECRET:
# 1. Get your machine account token from Bitwarden Secrets Manager
# 2. Run the script: ./create-auth-secret.sh <MACHINE_ACCOUNT_TOKEN>
# 3. Replace this entire file with the generated sealed secret
#
# OR manually create it:
# kubectl create secret generic bitwarden-auth-token \
#   --namespace=bitwarden-secrets \
#   --from-literal=token="<MACHINE_ACCOUNT_TOKEN>" \
#   --dry-run=client -o yaml | kubeseal -o yaml

apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  annotations:
    sealedsecrets.bitnami.com/namespace-wide: "true"
  name: bitwarden-auth-token
  namespace: bitwarden-secrets
spec:
  encryptedData:
    # ðŸ”’ PLACEHOLDER - Replace with actual encrypted machine account token
    # The encrypted token will look something like:
    # token: AgBy3i4OJSWK+PiTySYZZA9rO33HoMVoJl7+Dc8h/7T8L...
    token: "REPLACE_WITH_ENCRYPTED_TOKEN"
  template:
    metadata:
      annotations:
        sealedsecrets.bitnami.com/namespace-wide: "true"
      name: bitwarden-auth-token
      namespace: bitwarden-secrets
    type: Opaque